# ===================================
# CONFIGURACIÓN OPTIMIZADA PARA PRODUCCIÓN
# ===================================

# MongoDB - Configuración optimizada para alto rendimiento
MONGODB_URI=mongodb://127.0.0.1:27017/MantenimientosDB
# Para MongoDB Atlas en producción:
# MONGODB_URI=mongodb+srv://usuario:password@cluster.mongodb.net/MantenimientosDB?retryWrites=true&w=majority&maxPoolSize=20&maxIdleTimeMS=30000

# Configuraciones de conexión optimizadas
MONGODB_MAX_POOL_SIZE=20
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_SOCKET_TIMEOUT_MS=45000
MONGODB_BUFFER_MAX_ENTRIES=0

# Servidor
PORT=5000
NODE_ENV=production

# Autenticación Clerk
CLERK_SECRET_KEY=sk_live_...
CLERK_ISSUER=https://your-clerk-domain.clerk.accounts.dev

# CORS - Optimizado para producción
CORS_ORIGIN=https://tu-dominio-frontend.com

# JWT (si se usa)
JWT_SECRET=your_jwt_secret_super_secure

# Cache y Performance
ENABLE_REQUEST_LOGGING=false
ENABLE_CACHE=true
CACHE_TTL_STATS=300000
CACHE_TTL_DASHBOARD=120000
CACHE_TTL_INVENTORY=180000

# Rate Limiting (para proteger APIs)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# Compresión y optimizaciones
ENABLE_COMPRESSION=true
TRUST_PROXY=true

# Logs optimizados para producción
LOG_LEVEL=warn
LOG_FORMAT=combined

# Base de datos - Pool settings optimizados
DB_BUFFER_COMMANDS=false
DB_BUFFER_MAX_ENTRIES=0

# Límites de consultas (prevenir sobrecarga)
MAX_LIMIT_PER_REQUEST=50
DEFAULT_LIMIT=20

# Timeouts optimizados
REQUEST_TIMEOUT=30000
DB_OPERATION_TIMEOUT=10000

# Memoria y performance
MAX_MEMORY_USAGE=1024
ENABLE_KEEP_ALIVE=true

# Monitoreo y métricas
ENABLE_METRICS=true
HEALTH_CHECK_TIMEOUT=5000